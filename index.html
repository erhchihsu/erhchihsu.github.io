<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Erh-Chi Hsu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Erh-Chi Hsu">
<meta property="og:image" content="https://erhchihsu.github.io/echsu/avatar.jpeg">
<meta property="og:site_name" content="Erh-Chi Hsu">
<meta property="og:locale" content="en_US">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Erh-Chi Hsu</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./papers"> 
<span class="menu-text">Papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentations"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="./blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-trestles content page-columns page-full">
  <div class="about-entity">
    <img src="avatar.jpeg" class="about-image
  rounded " style="width: 20em;">
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Erh-Chi Hsu</h1>
</div>
<div class="quarto-title-meta">
  </div>
</header>
    <div class="about-links">
  <a href="https://www.linkedin.com/in/erh-chi-hsu-6663b9210/" class="about-link" rel="" target="">
     <span class="about-link-text">LinkedIn</span>
  </a>
  <a href="https://github.com/erhchihsu" class="about-link" rel="" target="">
    <i class="bi bi-github"></i>
     <span class="about-link-text">GitHub</span>
  </a>
  <a href="/cv.pdf" class="about-link" rel="" target="">
     <span class="about-link-text">CV</span>
  </a>
  <a href="https://orcid.org/0009-0007-8238-2645" class="about-link" rel="" target="">
     <span class="about-link-text">ORCiD</span>
  </a>
  <a href="https://scholar.google.com/citations?hl=en&amp;user=NeIcmCUAAAAJ" class="about-link" rel="" target="">
     <span class="about-link-text">Google Scholar</span>
  </a>
  <a href="mailto:erhchihsu@gmail.com" class="about-link" rel="" target="">
     <span class="about-link-text">Email</span>
  </a>
  <a href="https://namedrop.io/erhchihsu" class="about-link" rel="" target="">
     <span class="about-link-text">Pronounce my name</span>
  </a>
</div>
  </div>
  <div class="about-contents page-columns page-full"><main class="content page-columns page-full" id="quarto-document-content">
<div class="column-page">
<section id="bio" class="level2">
<h2 data-anchor-id="bio">Bio</h2>
<p>I am a PhD student at the Johns Hopkins School of Nursing. My long-term research goal is to identify ways to improve the well-being of older adults, their caregivers, and the long-term care workforce. My work spans the long-term care continuum, from community-based services to institutional settings such as assisted living (AL) communities and nursing homes (NH). Ultimately, my goal is to inform policy and payment decisions that enhance care quality and support a more sustainable and equitable workforce.</p>
<p>Currently, I am working on several projects: (1) a <a href="https://academyhealth.confex.com/academyhealth/2025arm/meetingapp.cgi/Paper/70110">spatial analysis</a> of long-term care market dynamics to examine whether increased assisted living capacity may delay or reduce nursing home admissions among people with dementia; (2) a geospatial study identifying co-located assisted living communities and nursing homes, including analysis of their characteristics and trends over time; and (3) the development of national policy coding databases on assisted living and adult day centers (as part of the <a href="https://reporter.nih.gov/search/P92TcjIwAkmW297-HYQHsQ/project-details/11050173#description">RF1</a> and <a href="https://reporter.nih.gov/search/Ao3c20JdkEWkOnrC0ayDUQ/project-details/10986806#description">U54</a> grants, respectively), which capture how states regulate areas such as staffing, staff training, building requirements, and care processes. These policy data will later be merged with claims datasets to study the impact of regulation on older adults.</p>
<p>My dissertation focuses on the role of training requirements in assisted living. Using two national datasets—the National Post-Acute and Long-Term Care Study <a href="https://www.cdc.gov/nchs/npals/questionnaires/index.html">(NPALS)</a> and the National Dementia Workforce Study <a href="https://www.ndws.org">(NDWS)</a>—I will explore: (1) the impact of state-level enforcement on assisted living facilities; (2) how facilities adapt to these requirements; (3) how these adaptations affect workforce outcomes; and (4) how workforce practices relate to resident outcomes.</p>
<p>In addition, I lead a <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC11692819/">side project</a> funded by the Center for Equity in Aging at Johns Hopkins School of Nursing, which uses longitudinal data from the National Health and Aging Trends Study <a href="https://www.nhats.org/researcher/nhats">(NHATS)</a> to examine how engagement in various technology-related activities may influence cognitive functioning in older adults.</p>
<p>By training, I am both a public health and nurse scientist. Professionally, I have worked as a registered nurse in a geriatric ward and as a mixed-methods specialist for a Washington State Department of Health <a href="https://app.leg.wa.gov/ReportsToTheLegislature/Home/GetPDF?fileName=ECS%20Report%20(Chapter%2058%20Laws%20of%202022)_8c782540-b0f4-48b7-813d-fe1155f84d2a.pdf">project</a> evaluating emergency cardiac and stroke systems of care. Outside of my academic work, I’m a dedicated bird watcher!</p>
<p>This site includes my <a href="papers">publications</a>, <a href="presentations">presentations</a>, and <a href="projects">my projects</a>, as well as a <a href="blog.html">learning blog</a>. Thank you for visiting.</p>
<p>
</p>
</section>
<section id="highlights" class="level2">
<h2 data-anchor-id="highlights">Highlights</h2>
<section id="awards" class="level4">
<h4 data-anchor-id="awards"><strong>Awards</strong></h4>
<p>I recently receive the 2025 Graduate Research Assistant Award at the Research &amp; Academic Affairs Awards Ceremony at Johns Hopkins School of Nursing! <img src="award.jpg" class="img-fluid"></p>
</section>
<section id="publications" class="level4">
<h4 data-anchor-id="publications"><strong>Publications</strong></h4>
<p>Li, J., He, R., <strong>Hsu, E. C.</strong>, &amp; Li, J. (2025). Network Analysis of Key Instrumental Activities of Daily Living and Cognitive Domains for Targeted Intervention in US Older Adults Without Dementia: Cross-Sectional Study. JMIR Aging, 8. <a href="https://doi.org/10.2196/67632" class="uri">https://doi.org/10.2196/67632</a></p>
<p><strong>Hsu, E. C.</strong>, Tsai, J. H.-C., Chim, K., &amp; Spigner, C. (2025). Multi-level factors of Chinese American family caregivers of individuals with dementia during COVID-19. Geriatric Nursing, 62, 200–206. <a href="https://doi.org/10.1016/J.GERINURSE.2025.01.041" class="uri">https://doi.org/10.1016/J.GERINURSE.2025.01.041</a></p>
<p>Huang, J., Spira, A. P., Perrin, N. A., Ellis, A., <strong>Hsu, E. C.</strong>, Kaufmann, C. N., &amp; Li, J. (2025). Latent classes of sleep problems and subjective cognitive decline among middle-aged and older adults in the United States. Archives of Gerontology and Geriatrics, 129, 105657. <a href="https://doi.org/10.1016/J.ARCHGER.2024.105657" class="uri">https://doi.org/10.1016/J.ARCHGER.2024.105657</a></p>
<p>Sabbatini, A. K., Parrish, C., Duber, H. C., Weaver, M., &amp; <strong>Hsu, E. C.</strong> (2023). Report to the Legislature Emergency Cardiac and Stroke System Assessment. <a href="https://app.leg.wa.gov/ReportsToTheLegislature/Home/GetPDF?fileName=ECS%20Report%20(Chapter%2058%20Laws%20of%202022)_8c782540-b0f4-48b7-813d-fe1155f84d2a.pdf" class="uri">https://app.leg.wa.gov/ReportsToTheLegislature/Home/GetPDF?fileName=ECS%20Report%20(Chapter%2058%20Laws%20of%202022)_8c782540-b0f4-48b7-813d-fe1155f84d2a.pdf</a></p>
</section>
<section id="presentations" class="level4">
<h4 data-anchor-id="presentations"><strong>Presentations</strong></h4>
<p><strong>[2025 ARM]</strong> <strong>Hsu, E. C.</strong>, Gadkari, G., Hua, C., Bunker, J., Smith, L., Jutkowitz, E., &amp; Thomas, K. (2025, June). Changes in Long-Term Care Markets: Assisted Living Supply and the Prevalence of Nursing Home Residents with Dementia from 2019 to 2021 <a href="https://academyhealth.confex.com/academyhealth/2025arm/meetingapp.cgi/Paper/70110">[Poster presentation]</a>. 2025 Annual Research Meeting of the AcademyHealth. Minneapolis, MN, United States.</p>
<p><strong>[2024 GSA]</strong> <strong>Hsu, E. C.</strong>, Jutkowitz, E., &amp; Thomas, K. (2024, November). The Association Between Digital Technology Activities and Cognitive Domains of Community Dwelling Older Adults <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC11692819/">[Poster presentation]</a>. 2024 Annual Scientific Meeting of the Gerontological Society of America. Seattle, WA, United States.</p>
<p><strong>[2024 Sleep &amp; Circadian Research Day]</strong> <strong>Hsu, E. C.</strong>, Szanton, S., Pantelyat, A., Kang, K., Huang, J., &amp; Li, J. (2024, June). Effects of 40 Hz Auditory Interventions on Sleep and Cognition in Older Adults with Mild Cognitive Impairment <a href="./presentations/ech_sleep_day_final.pdf">[Oral presentation]</a>. 8th Annual Johns Hopkins Sleep &amp; Circadian Research Day. Baltimore, MD, United States.</p>
<p><strong>[2023 GSA]</strong> <strong>Hsu, E. C.</strong>, Tsai, J. H. C., Spigner, C., &amp; Chim, K. (2023, November). Perceptions and Experiences of Family Caregivers of Older First-Generation Chinese Americans with Dementia <a href="./presentations/gsa_poster_final.pdf">[Poster presentation]</a>. 2023 Annual Scientific Meeting of the Gerontological Society of America. Tampa, FL.</p>
</section>
<section id="side-projects" class="level4">
<h4 data-anchor-id="side-projects"><strong>Side Projects</strong></h4>
<p><strong>Emergency Room Dashboard</strong>: A dashboard presenting an overview on an emergency department and patient extractor for prolonged time by Tableau. <a href="https://public.tableau.com/views/ER_dashboard_story/ERDashboardStory?:language=en-US&amp;:sid=&amp;:display_count=n&amp;:origin=viz_share_link">[Link]</a></p>
<p><strong>Program Performance Dashboard</strong>: A dashboard presenting the demographic overview, longitudinal attendance, and geographical distribution of participants in a program. Note: The data was de-identified or faked to protect the privacy of participants. <a href="./projects/dashboard.html">[Link]</a></p>
</section>
</section>
</div>


</main></div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/erhchihsu\.github\.io\/echsu");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025 Erh-Chi Hsu. Except where otherwise noted, all text and images licensed CC-BY-NC 4.0.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>